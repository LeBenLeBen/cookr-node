<template>
  <router-link
    :to="{ name: 'recipe', params: { id: recipe.id, slug: recipe.slug } }"
    class="
      overflow-hidden
      flex flex-col
      h-full
      text-alt-800
      hover:text-alt-800
      bg-alt-50
      hover:bg-white
      rounded-xl
      border-b border-alt-200
    "
  >
    <RecipeImage
      :image="recipe.image"
      width="288"
      height="192"
      class="w-full sm:w-auto flex-shrink-0 bg-alt-200 bg-opacity-75"
    />

    <div class="py-3 px-4">
      <h2
        class="
          font-display
          text-lg
          font-medium
          text-alt-700
          overflow-hidden overflow-ellipsis
          whitespace-nowrap
        "
      >
        {{ recipe.title }}
      </h2>

      <RecipeAuthor
        v-if="username"
        :username="username"
        class="text-sm text-alt-600"
      />
    </div>
  </router-link>
</template>

<script lang="ts" setup>
import { Recipes } from '../gql/graphql';

defineProps<{
  recipe: Recipes;
  username?: string | null;
}>();
</script>
